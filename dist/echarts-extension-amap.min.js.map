{"version":3,"file":"echarts-extension-amap.min.js","sources":["../src/AMapCoordSys.js","../src/helper.js","../src/AMapModel.js","../node_modules/lodash.debounce/index.js","../src/AMapView.js","../src/index.js","../index.js"],"sourcesContent":["/* global AMap */\n\nimport { util as zrUtil, graphic, matrix } from 'echarts/lib/echarts'\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(\n    [0, 1],\n    function(dimIdx) {\n      const val = dataItem[dimIdx]\n      const halfSize = dataSize[dimIdx] / 2\n      const p1 = []\n      const p2 = []\n      p1[dimIdx] = val - halfSize\n      p2[dimIdx] = val + halfSize\n      p1[1 - dimIdx] = p2[1 - dimIdx] = dataItem[1 - dimIdx]\n      return Math.abs(\n        this.dataToPoint(p1)[dimIdx] - this.dataToPoint(p2)[dimIdx]\n      )\n    },\n    this\n  )\n}\n\n// exclude private and unsupported options\nconst excludedOptions = [\n  'echartsLayerZIndex', // DEPRECATED since v1.9.0\n  'echartsLayerInteractive',\n  'renderOnMoving',\n  'largeMode',\n  'layers'\n]\n\nfunction AMapCoordSys(amap, api) {\n  this._amap = amap\n  this._api = api\n  this._mapOffset = [0, 0]\n  // this.dimensions = ['lng', 'lat']\n}\n\nconst AMapCoordSysProto = AMapCoordSys.prototype\n\nAMapCoordSysProto.setZoom = function(zoom) {\n  this._zoom = zoom\n}\n\nAMapCoordSysProto.setCenter = function(center) {\n  const lnglat = new AMap.LngLat(center[0], center[1])\n  this._center = this._amap.lngLatToContainer(lnglat)\n}\n\nAMapCoordSysProto.setMapOffset = function(mapOffset) {\n  this._mapOffset = mapOffset\n}\n\nAMapCoordSysProto.setAMap = function(amap) {\n  this._amap = amap\n}\n\nAMapCoordSysProto.getAMap = function() {\n  return this._amap\n}\n\nAMapCoordSysProto.dataToPoint = function(data) {\n  const lnglat = new AMap.LngLat(data[0], data[1])\n  const px = this._amap.lngLatToContainer(lnglat)\n  const mapOffset = this._mapOffset\n  return [px.x - mapOffset[0], px.y - mapOffset[1]]\n}\n\nAMapCoordSysProto.pointToData = function(pt) {\n  const mapOffset = this._mapOffset\n  const lnglat = this._amap.containerToLngLat(\n    new AMap.Pixel(\n      pt[0] + mapOffset[0],\n      pt[1] + mapOffset[1]\n    )\n  )\n  return [lnglat.lng, lnglat.lat]\n}\n\nAMapCoordSysProto.getViewRect = function() {\n  const api = this._api\n  return new graphic.BoundingRect(0, 0, api.getWidth(), api.getHeight())\n}\n\nAMapCoordSysProto.getRoamTransform = function() {\n  return matrix.create()\n}\n\nAMapCoordSysProto.prepareCustoms = function() {\n  const rect = this.getViewRect()\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'amap',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: zrUtil.bind(this.dataToPoint, this),\n      size: zrUtil.bind(dataToCoordSize, this)\n    }\n  }\n}\n\nAMapCoordSys.create = function(ecModel, api) {\n  let amapCoordSys\n  ecModel.eachComponent('amap', function(amapModel) {\n    if (typeof AMap === 'undefined') {\n      throw new Error('AMap api is not loaded')\n    }\n    if (amapCoordSys) {\n      throw new Error('Only one amap component can exist')\n    }\n    let amap = amapModel.getAMap()\n    const echartsLayerInteractive = amapModel.get('echartsLayerInteractive')\n    if (!amap) {\n      const root = api.getDom()\n      const painter = api.getZr().painter\n      const viewportRoot = painter.getViewportRoot()\n      // PENDING not hidden?\n      viewportRoot.style.visibility = 'hidden'\n      // Not support IE8\n      let amapRoot = root.querySelector('.ec-extension-amap')\n      if (amapRoot) {\n        // Reset viewport left and top, which will be changed\n        // in moving handler in AMapView\n        viewportRoot.style.left = '0px'\n        viewportRoot.style.top = '0px'\n        root.removeChild(amapRoot)\n      }\n      amapRoot = document.createElement('div')\n      amapRoot.className = 'ec-extension-amap'\n      amapRoot.style.cssText = 'position:absolute;top:0;left:0;bottom:0;right:0;'\n      root.appendChild(amapRoot)\n\n      const options = zrUtil.clone(amapModel.get())\n      if ('echartsLayerZIndex' in options) {\n        console.warn('[ECharts][Extension][AMap] DEPRECATED: the option `echartsLayerZIndex` has been removed since v1.9.0, use `echartsLayerInteractive` instead.')\n      }\n      // delete excluded options\n      zrUtil.each(excludedOptions, function(key) {\n        delete options[key]\n      })\n\n      amap = new AMap.Map(amapRoot, options)\n      amapModel.setAMap(amap)\n\n      // use `complete` callback to avoid NPE when first load amap\n      amap.on('complete', function() {\n        amapRoot.querySelector('.amap-maps').appendChild(viewportRoot)\n        // PENDING\n        viewportRoot.style.visibility = ''\n      })\n\n      amapModel.setEChartsLayer(viewportRoot)\n\n      // Override\n      painter.getViewportRootOffset = function() {\n        return { offsetLeft: 0, offsetTop: 0 }\n      }\n    }\n\n    const oldEChartsLayerInteractive = amapModel.__echartsLayerInteractive\n    if (oldEChartsLayerInteractive !== echartsLayerInteractive) {\n      amapModel.setEChartsLayerInteractive(echartsLayerInteractive)\n      amapModel.__echartsLayerInteractive = echartsLayerInteractive\n    }\n\n    const center = amapModel.get('center')\n    const zoom = amapModel.get('zoom')\n    if (center && zoom) {\n      const amapCenter = amap.getCenter()\n      const amapZoom = amap.getZoom()\n      const centerOrZoomChanged = amapModel.centerOrZoomChanged(\n        [amapCenter.lng, amapCenter.lat],\n        amapZoom\n      )\n      if (centerOrZoomChanged) {\n        amap.setZoomAndCenter(zoom, new AMap.LngLat(center[0], center[1]))\n      }\n    }\n\n    // update map style(#13)\n    const originalMapStyle = amapModel.__mapStyle\n    const newMapStyle = amapModel.get('mapStyle')\n    if (originalMapStyle !== newMapStyle) {\n      amap.setMapStyle(newMapStyle)\n      amapModel.__mapStyle = newMapStyle\n    }\n\n    // update map lang\n    // PENDING: AMap 2.x does not support `setLang` yet\n    if (amap.setLang) {\n      const originalMapLang = amapModel.__mapLang\n      const newMapLang = amapModel.get('lang')\n      if (originalMapLang !== newMapLang) {\n        amap.setLang(newMapLang)\n        amapModel.__mapLang = newMapLang\n      }\n    }\n\n    amapCoordSys = new AMapCoordSys(amap, api)\n    amapCoordSys.setMapOffset(amapModel.__mapOffset || [0, 0])\n    amapCoordSys.setZoom(zoom)\n    amapCoordSys.setCenter(center)\n\n    amapModel.coordinateSystem = amapCoordSys\n  })\n\n  ecModel.eachSeries(function(seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'amap') {\n      seriesModel.coordinateSystem = amapCoordSys\n    }\n  })\n}\n\nAMapCoordSysProto.dimensions = AMapCoordSys.dimensions = ['lng', 'lat']\n\nexport default AMapCoordSys\n","import { version } from 'echarts/lib/echarts'\n\nexport const isV5 = version.split('.')[0] > 4\n\nexport function v2Equal(a, b) {\n  return a && b && a[0] === b[0] && a[1] === b[1]\n}\n","import { ComponentModel } from 'echarts/lib/echarts'\nimport { isV5, v2Equal } from './helper'\n\nconst AMapModel = {\n  type: 'amap',\n\n  setAMap(amap) {\n    this.__amap = amap\n  },\n\n  getAMap() {\n    return this.__amap\n  },\n\n  setEChartsLayer(layer) {\n    this.__echartsLayer = layer\n  },\n\n  getEChartsLayer() {\n    return this.__echartsLayer\n  },\n\n  setEChartsLayerVisiblity(visible) {\n    this.__echartsLayer.style.display = visible ? 'block' : 'none'\n  },\n\n  // FIXME: NOT SUPPORT <= IE 10\n  setEChartsLayerInteractive(interactive) {\n    this.option.echartsLayerInteractive = !!interactive\n    this.__echartsLayer.style.pointerEvents = interactive ? 'auto' : 'none'\n  },\n\n  setCenterAndZoom(center, zoom) {\n    this.option.center = center\n    this.option.zoom = zoom\n  },\n\n  centerOrZoomChanged(center, zoom) {\n    const option = this.option\n    return !(v2Equal(center, option.center) && zoom === option.zoom)\n  },\n\n  defaultOption: {\n    center: [116.397428, 39.90923],\n    zoom: 5,\n    isHotspot: false,\n    resizeEnable: true,\n\n    // extension specific options\n    // echartsLayerZIndex: 2000, // DEPRECATED since v1.9.0\n    echartsLayerInteractive: true,\n    renderOnMoving: true,\n    largeMode: false\n  }\n}\n\nexport default isV5\n  ? ComponentModel.extend(AMapModel)\n  : AMapModel\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","import { ComponentView, getInstanceByDom } from 'echarts/lib/echarts'\nimport { isV5 } from './helper'\nimport debounce from 'lodash.debounce'\n\n/* global AMap */\n\nconst AMapView = {\n  type: 'amap',\n\n  init() {\n    this._isFirstRender = true\n  },\n\n  render(amapModel, ecModel, api) {\n    let rendering = true\n\n    const amap = amapModel.getAMap()\n    const viewportRoot = api.getZr().painter.getViewportRoot()\n    const offsetEl = amap.getContainer()\n    const coordSys = amapModel.coordinateSystem\n\n    const renderOnMoving = amapModel.get('renderOnMoving')\n    const resizeEnable = amapModel.get('resizeEnable')\n    const largeMode = amapModel.get('largeMode')\n\n    // `AMap.version` only exists in AMap 2.x\n    // For AMap 1.x, it's `AMap.v`\n    const is2X = AMap.version >= 2\n    const is3DMode = amap.getViewMode_() === '3D'\n\n    let moveHandler = function() {\n      if (rendering) {\n        return\n      }\n\n      const offsetElStyle = offsetEl.style\n      const mapOffset = [\n        -parseInt(offsetElStyle.left, 10) || 0,\n        -parseInt(offsetElStyle.top, 10) || 0\n      ]\n      // only update style when map offset changed\n      const viewportRootStyle = viewportRoot.style\n      const offsetLeft = mapOffset[0] + 'px'\n      const offsetTop = mapOffset[1] + 'px'\n      if (viewportRootStyle.left !== offsetLeft) {\n        viewportRootStyle.left = offsetLeft\n      }\n      if (viewportRootStyle.top !== offsetTop) {\n        viewportRootStyle.top = offsetTop\n      }\n\n      coordSys.setMapOffset(amapModel.__mapOffset = mapOffset)\n\n      api.dispatchAction({\n        type: 'amapRoam',\n        animation: {\n          // compatible with ECharts 5.x\n          // no delay for rendering but remain animation of elements\n          duration: 0\n        }\n      })\n    }\n\n    amap.off('mapmove', this._moveHandler)\n    amap.off('moveend', this._moveHandler)\n    amap.off('viewchange', this._moveHandler)\n    amap.off('camerachange', this._moveHandler)\n    amap.off('zoom', this._moveHandler)\n\n    if (this._resizeHandler) {\n      amap.off('resize', this._resizeHandler)\n    }\n    if (this._moveStartHandler) {\n      amap.off('movestart', this._moveStartHandler)\n    }\n    if (this._moveEndHandler) {\n      amap.off('moveend', this._moveEndHandler)\n      amap.off('zoomend', this._moveEndHandler)\n    }\n\n    amap.on(\n      renderOnMoving\n        ? (is2X\n          ? 'viewchange'\n          : is3DMode\n            ? 'camerachange'\n            : 'mapmove')\n        : 'moveend',\n      // FIXME: bad performance in 1.x in the cases with large data, use debounce?\n      // moveHandler\n      (!is2X && largeMode) ? (moveHandler = debounce(moveHandler, 20)) : moveHandler\n    )\n\n    this._moveHandler = moveHandler\n\n    if (renderOnMoving && !(is2X && is3DMode)) {\n      // need to listen to zoom if 1.x & 2D mode\n      // FIXME: unnecessary `mapmove` event triggered when zooming\n      amap.on('zoom', moveHandler)\n    }\n\n    if (!renderOnMoving) {\n      amap.on('movestart', this._moveStartHandler = function(e) {\n        setTimeout(function() {\n          amapModel.setEChartsLayerVisiblity(false)\n        }, 0)\n      })\n      const moveEndHandler = this._moveEndHandler = function(e) {\n        ;(!e || e.type !== 'moveend') && moveHandler()\n        setTimeout(function() {\n          amapModel.setEChartsLayerVisiblity(true)\n        }, is2X || !largeMode ? 0 : 20)\n      }\n      amap.on('moveend', moveEndHandler)\n      amap.on('zoomend', moveEndHandler)\n      if (this._isFirstRender && is3DMode) {\n        // FIXME: not rewrite AMap instance method\n        const nativeSetPicth = amap.setPitch\n        const nativeSetRotation = amap.setRotation\n        amap.setPitch = function() {\n          nativeSetPicth.apply(this, arguments)\n          moveEndHandler()\n        }\n        amap.setRotation = function() {\n          nativeSetRotation.apply(this, arguments)\n          moveEndHandler()\n        }\n      }\n    }\n\n    if (resizeEnable) {\n      let resizeHandler = function() {\n        getInstanceByDom(api.getDom()).resize()\n      }\n      if (!is2X && largeMode) {\n        resizeHandler = debounce(resizeHandler, 20)\n      }\n      amap.on('resize', this._resizeHandler = resizeHandler)\n    }\n\n    this._isFirstRender = rendering = false\n  },\n\n  dispose(ecModel) {\n    const component = ecModel.getComponent('amap')\n    if (component) {\n      component.getAMap().destroy()\n      component.setAMap(null)\n      component.setEChartsLayer(null)\n      if (component.coordinateSystem) {\n        component.coordinateSystem.setAMap(null)\n        component.coordinateSystem = null\n      }\n      delete this._moveHandler\n      delete this._resizeHandler\n      delete this._moveStartHandler\n      delete this._moveEndHandler\n    }\n  }\n}\n\nexport default isV5\n  ? ComponentView.extend(AMapView)\n  : AMapView\n","/**\n * AMap component extension\n */\n\nimport AMapCoordSys from './AMapCoordSys'\nimport AMapModel from './AMapModel'\nimport AMapView from './AMapView'\nimport { isV5 } from './helper'\n\nexport { version, name } from '../package.json'\n\nexport function install(registers) {\n  // Model\n  isV5\n    ? registers.registerComponentModel(AMapModel)\n    : registers.extendComponentModel(AMapModel)\n  // View\n  isV5\n    ? registers.registerComponentView(AMapView)\n    : registers.extendComponentView(AMapView)\n  // Coordinate System\n  registers.registerCoordinateSystem('amap', AMapCoordSys)\n  // Action\n  registers.registerAction(\n    {\n      type: 'amapRoam',\n      event: 'amapRoam',\n      update: 'updateLayout'\n    },\n    function(payload, ecModel) {\n      ecModel.eachComponent('amap', function(amapModel) {\n        const amap = amapModel.getAMap()\n        const center = amap.getCenter()\n        amapModel.setCenterAndZoom([center.lng, center.lat], amap.getZoom())\n      })\n    }\n  )\n}\n","import * as echarts from 'echarts/lib/echarts'\nimport { install } from './src/index'\nimport { isV5 } from './src/helper'\n\nisV5 ? echarts.use(install) : install(echarts)\n\nexport { name, version } from './src/index'\n"],"names":["dataToCoordSize","dataSize","dataItem","zrUtil","map","dimIdx","val","halfSize","p1","p2","Math","abs","this","dataToPoint","excludedOptions","AMapCoordSys","amap","api","_amap","_api","_mapOffset","AMapCoordSysProto","prototype","setZoom","zoom","_zoom","setCenter","center","lnglat","AMap","LngLat","_center","lngLatToContainer","setMapOffset","mapOffset","setAMap","getAMap","data","px","x","y","pointToData","pt","containerToLngLat","Pixel","lng","lat","getViewRect","graphic","BoundingRect","getWidth","getHeight","getRoamTransform","matrix","create","prepareCustoms","rect","coordSys","type","width","height","coord","bind","size","ecModel","amapCoordSys","eachComponent","amapModel","Error","echartsLayerInteractive","get","root","getDom","painter","getZr","viewportRoot","getViewportRoot","style","visibility","amapRoot","querySelector","left","top","removeChild","document","createElement","className","cssText","appendChild","options","clone","console","warn","each","key","Map","on","setEChartsLayer","getViewportRootOffset","offsetLeft","offsetTop","__echartsLayerInteractive","setEChartsLayerInteractive","amapCenter","getCenter","amapZoom","getZoom","centerOrZoomChanged","setZoomAndCenter","originalMapStyle","__mapStyle","newMapStyle","setMapStyle","setLang","originalMapLang","__mapLang","newMapLang","__mapOffset","coordinateSystem","eachSeries","seriesModel","dimensions","isV5","version","split","AMapModel","__amap","layer","__echartsLayer","getEChartsLayer","setEChartsLayerVisiblity","visible","display","interactive","option","pointerEvents","setCenterAndZoom","a","b","defaultOption","isHotspot","resizeEnable","renderOnMoving","largeMode","ComponentModel","extend","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeSelf","self","Object","global","Function","objectToString","toString","nativeMax","max","nativeMin","min","now","Date","isObject","value","toNumber","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","slice","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","arguments","cancel","clearTimeout","flush","AMapView","init","_isFirstRender","render","rendering","offsetEl","getContainer","is2X","is3DMode","getViewMode_","moveHandler","offsetElStyle","viewportRootStyle","dispatchAction","animation","duration","off","_moveHandler","_resizeHandler","_moveStartHandler","_moveEndHandler","debounce","e","moveEndHandler","nativeSetPicth","setPitch","nativeSetRotation","setRotation","resizeHandler","getInstanceByDom","resize","dispose","component","getComponent","destroy","ComponentView","install","registers","registerComponentModel","extendComponentModel","registerComponentView","extendComponentView","registerCoordinateSystem","registerAction","event","update","payload","echarts"],"mappings":"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"}